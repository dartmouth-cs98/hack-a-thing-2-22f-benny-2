{"ast":null,"code":"import _slicedToArray from\"/Users/benedicttedjokusumo/Desktop/hack-a-thing-2-22f-benny-2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useNavigate}from\"react-router-dom\";import{initializeApp}from\"firebase/app\";import{getDatabase,ref,set,child,get}from\"firebase/database\";import'./App.css';import{useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),submitted=_useState4[0],setSubmited=_useState4[1];var navigate=useNavigate();var num=localStorage.getItem('num')||Math.floor(Math.random()*999999);localStorage.setItem('num',num);var keyRef='users/'+num.toString();// Database code sourced from https://firebase.google.com/docs/database/web/read-and-write?hl=en&authuser=3#web-version-9_2\nvar firebaseConfig={databaseURL:\"https://operators-a44ee-default-rtdb.firebaseio.com\"};// Initialize Firebase\nvar app=initializeApp(firebaseConfig);// Initialize Realtime Database and get a reference to the service\nvar database=getDatabase(app);var dbRef=ref(database);useEffect(function(){get(child(dbRef,keyRef+'/name')).then(function(snapshot){if(snapshot.exists()){console.log(snapshot.val());setSubmited(true);setName(snapshot.val());}else{}});},[dbRef,keyRef]);var submitName=function submitName(name){set(ref(database,keyRef+'/name'),name);setSubmited(true);};return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Operators\"}),!submitted?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"enter your name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){return submitName(name);},children:\"submit\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Hi \",name]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){return navigate('playGame');},children:\"Start a New Game\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){return navigate('viewGames');},children:\"View Past Games\"})]})]})});}export default App;","map":{"version":3,"names":["React","useState","useNavigate","initializeApp","getDatabase","ref","set","child","get","useEffect","App","name","setName","submitted","setSubmited","navigate","num","localStorage","getItem","Math","floor","random","setItem","keyRef","toString","firebaseConfig","databaseURL","app","database","dbRef","then","snapshot","exists","console","log","val","submitName","e","target","value"],"sources":["/Users/benedicttedjokusumo/Desktop/hack-a-thing-2-22f-benny-2/src/App.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from \"react-router-dom\";\nimport { initializeApp } from \"firebase/app\";\nimport { getDatabase, ref, set, child, get } from \"firebase/database\";\nimport './App.css';\nimport { useEffect } from 'react';\n\nfunction App() {\n  const [name, setName] = useState('');\n  const [submitted, setSubmited] = useState(false);\n  const navigate = useNavigate();\n  const num = localStorage.getItem('num') || Math.floor(Math.random()*999999);\n  localStorage.setItem('num',num);\n  const keyRef = 'users/' + num.toString()\n\n  // Database code sourced from https://firebase.google.com/docs/database/web/read-and-write?hl=en&authuser=3#web-version-9_2\n  const firebaseConfig = {\n    databaseURL: \"https://operators-a44ee-default-rtdb.firebaseio.com\",\n  };\n  \n  // Initialize Firebase\n  const app = initializeApp(firebaseConfig);\n  // Initialize Realtime Database and get a reference to the service\n  const database = getDatabase(app);\n  const dbRef = ref(database);\n\n\n  useEffect(() => {\n    get(child(dbRef, keyRef + '/name')).then((snapshot) => {\n      if (snapshot.exists()) {\n        console.log(snapshot.val())\n        setSubmited(true)\n        setName(snapshot.val())\n      }\n      else{\n\n      }\n    })\n  }, [dbRef, keyRef]);\n\n  const submitName = (name) => {\n    set(ref(database, keyRef + '/name'), name);\n    setSubmited(true)\n  }\n  \n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>Operators</h1>\n\n        {\n          !submitted ?\n          <div>\n            <h3>enter your name</h3>\n            <input type=\"text\" value={name} onChange={e => setName(e.target.value)} />\n            <button type=\"button\" onClick={() => submitName(name)}>submit</button>\n          </div>\n          :\n          <div>\n            <h2>Hi {name}</h2>\n            <button type=\"button\" onClick={() => navigate('playGame')}>Start a New Game</button> <br/>\n            <button type=\"button\" onClick={() => navigate('viewGames')}>View Past Games</button>\n          </div>\n        }  \n      </header>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"mJAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,aAAT,KAA8B,cAA9B,CACA,OAASC,WAAT,CAAsBC,GAAtB,CAA2BC,GAA3B,CAAgCC,KAAhC,CAAuCC,GAAvC,KAAkD,mBAAlD,CACA,MAAO,WAAP,CACA,OAASC,SAAT,KAA0B,OAA1B,C,wFAEA,QAASC,IAAT,EAAe,CACb,cAAwBT,QAAQ,CAAC,EAAD,CAAhC,wCAAOU,IAAP,eAAaC,OAAb,eACA,eAAiCX,QAAQ,CAAC,KAAD,CAAzC,yCAAOY,SAAP,eAAkBC,WAAlB,eACA,GAAMC,SAAQ,CAAGb,WAAW,EAA5B,CACA,GAAMc,IAAG,CAAGC,YAAY,CAACC,OAAb,CAAqB,KAArB,GAA+BC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,GAAc,MAAzB,CAA3C,CACAJ,YAAY,CAACK,OAAb,CAAqB,KAArB,CAA2BN,GAA3B,EACA,GAAMO,OAAM,CAAG,SAAWP,GAAG,CAACQ,QAAJ,EAA1B,CAEA;AACA,GAAMC,eAAc,CAAG,CACrBC,WAAW,CAAE,qDADQ,CAAvB,CAIA;AACA,GAAMC,IAAG,CAAGxB,aAAa,CAACsB,cAAD,CAAzB,CACA;AACA,GAAMG,SAAQ,CAAGxB,WAAW,CAACuB,GAAD,CAA5B,CACA,GAAME,MAAK,CAAGxB,GAAG,CAACuB,QAAD,CAAjB,CAGAnB,SAAS,CAAC,UAAM,CACdD,GAAG,CAACD,KAAK,CAACsB,KAAD,CAAQN,MAAM,CAAG,OAAjB,CAAN,CAAH,CAAoCO,IAApC,CAAyC,SAACC,QAAD,CAAc,CACrD,GAAIA,QAAQ,CAACC,MAAT,EAAJ,CAAuB,CACrBC,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACI,GAAT,EAAZ,EACArB,WAAW,CAAC,IAAD,CAAX,CACAF,OAAO,CAACmB,QAAQ,CAACI,GAAT,EAAD,CAAP,CACD,CAJD,IAKI,CAEH,CACF,CATD,EAUD,CAXQ,CAWN,CAACN,KAAD,CAAQN,MAAR,CAXM,CAAT,CAaA,GAAMa,WAAU,CAAG,QAAbA,WAAa,CAACzB,IAAD,CAAU,CAC3BL,GAAG,CAACD,GAAG,CAACuB,QAAD,CAAWL,MAAM,CAAG,OAApB,CAAJ,CAAkCZ,IAAlC,CAAH,CACAG,WAAW,CAAC,IAAD,CAAX,CACD,CAHD,CAKA,mBACE,YAAK,SAAS,CAAC,KAAf,uBACE,gBAAQ,SAAS,CAAC,YAAlB,wBACE,iCADF,CAII,CAACD,SAAD,cACA,oCACE,uCADF,cAEE,cAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAEF,IAA1B,CAAgC,QAAQ,CAAE,kBAAA0B,CAAC,QAAIzB,QAAO,CAACyB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,EAA3C,EAFF,cAGE,eAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAE,yBAAMH,WAAU,CAACzB,IAAD,CAAhB,EAA/B,oBAHF,GADA,cAOA,oCACE,4BAAQA,IAAR,GADF,cAEE,eAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAE,yBAAMI,SAAQ,CAAC,UAAD,CAAd,EAA/B,8BAFF,kBAEuF,aAFvF,cAGE,eAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAE,yBAAMA,SAAQ,CAAC,WAAD,CAAd,EAA/B,6BAHF,GAXJ,GADF,EADF,CAsBD,CAED,cAAeL,IAAf"},"metadata":{},"sourceType":"module"}