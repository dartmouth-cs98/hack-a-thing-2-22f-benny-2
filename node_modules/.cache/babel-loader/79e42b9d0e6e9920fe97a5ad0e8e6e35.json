{"ast":null,"code":"import _slicedToArray from\"/Users/benedicttedjokusumo/Desktop/hack-a-thing-2-22f-benny-2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{initializeApp}from\"firebase/app\";import{getDatabase,ref,set,child,get}from\"firebase/database\";import'./Card.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Card(_ref){var tag=_ref.tag,time=_ref.time,keyRef=_ref.keyRef;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),bestTime=_useState2[0],setBestTime=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];useEffect(function(){readDatabase();},[]);var readDatabase=function readDatabase(){// Get user times\nget(child(dbRef,'users/'+keyRef+'/'+tag)).then(function(snapshot){if(snapshot.exists()){var data=snapshot.val();setBestTime(data.time);}else{console.log(\"No data available\");}}).catch(function(error){console.error(error);});get(child(dbRef,'users/'+keyRef+'/name')).then(function(snapshot){if(snapshot.exists()){var data=snapshot.val();setName(data);}else{console.log(\"No data available\");}}).catch(function(error){console.error(error);});};// Database code sourced from https://firebase.google.com/docs/database/web/read-and-write?hl=en&authuser=3#web-version-9_2\nvar firebaseConfig={databaseURL:\"https://operators-a44ee-default-rtdb.firebaseio.com\"};// Initialize Firebase\nvar app=initializeApp(firebaseConfig);// Initialize Realtime Database and get a reference to the service\nvar database=getDatabase(app);var dbRef=ref(database);return/*#__PURE__*/_jsxs(\"div\",{className:\"card-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:tag}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Your time: \",time.toString().slice(0,-3),\".\",time.toString().slice(1,-2),\" secs\"]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Best time: \",bestTime.toString().slice(0,-3),\".\",bestTime.toString().slice(1,-2),\" secs by \",name]})]});}","map":{"version":3,"names":["React","useState","useEffect","initializeApp","getDatabase","ref","set","child","get","Card","tag","time","keyRef","bestTime","setBestTime","name","setName","readDatabase","dbRef","then","snapshot","exists","data","val","console","log","catch","error","firebaseConfig","databaseURL","app","database","toString","slice"],"sources":["/Users/benedicttedjokusumo/Desktop/hack-a-thing-2-22f-benny-2/src/Card.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { initializeApp } from \"firebase/app\";\nimport { getDatabase, ref, set, child, get } from \"firebase/database\";\n\nimport './Card.css';\n\nexport default function Card({\n    tag, time, keyRef\n}){\n    const [bestTime, setBestTime] = useState('');\n    const [name, setName] = useState('');\n\n    useEffect(() => {\n        readDatabase()\n    }, []);\n\n    const readDatabase = () => {\n      // Get user times\n      get(child(dbRef, 'users/' + keyRef + '/' + tag)).then((snapshot) => {\n        if (snapshot.exists()) {\n          const data = snapshot.val()\n          setBestTime(data.time)\n        } else {\n          console.log(\"No data available\");\n        }\n      }).catch((error) => {\n        console.error(error);\n      });\n\n      get(child(dbRef, 'users/' + keyRef + '/name')).then((snapshot) => {\n        if (snapshot.exists()) {\n          const data = snapshot.val()\n          setName(data)\n        } else {\n          console.log(\"No data available\");\n        }\n      }).catch((error) => {\n        console.error(error);\n      });\n    }\n\n    // Database code sourced from https://firebase.google.com/docs/database/web/read-and-write?hl=en&authuser=3#web-version-9_2\n    const firebaseConfig = {\n        databaseURL: \"https://operators-a44ee-default-rtdb.firebaseio.com\",\n      };\n      \n    // Initialize Firebase\n    const app = initializeApp(firebaseConfig);\n\n    // Initialize Realtime Database and get a reference to the service\n    const database = getDatabase(app);\n    const dbRef = ref(database);\n\n    return (\n        <div className='card-container'>\n            <h2>{tag}</h2>\n            <h3>Your time: {time.toString().slice(0, -3)}.{time.toString().slice(1, -2)} secs</h3>\n            <h3>Best time: {bestTime.toString().slice(0, -3)}.{bestTime.toString().slice(1, -2)} secs by {name}</h3>\n        </div>\n    )\n}\n"],"mappings":"mJAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,aAAT,KAA8B,cAA9B,CACA,OAASC,WAAT,CAAsBC,GAAtB,CAA2BC,GAA3B,CAAgCC,KAAhC,CAAuCC,GAAvC,KAAkD,mBAAlD,CAEA,MAAO,YAAP,C,wFAEA,cAAe,SAASC,KAAT,MAEb,IADEC,IACF,MADEA,GACF,CADOC,IACP,MADOA,IACP,CADaC,MACb,MADaA,MACb,CACE,cAAgCX,QAAQ,CAAC,EAAD,CAAxC,wCAAOY,QAAP,eAAiBC,WAAjB,eACA,eAAwBb,QAAQ,CAAC,EAAD,CAAhC,yCAAOc,IAAP,eAAaC,OAAb,eAEAd,SAAS,CAAC,UAAM,CACZe,YAAY,GACf,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMA,aAAY,CAAG,QAAfA,aAAe,EAAM,CACzB;AACAT,GAAG,CAACD,KAAK,CAACW,KAAD,CAAQ,SAAWN,MAAX,CAAoB,GAApB,CAA0BF,GAAlC,CAAN,CAAH,CAAiDS,IAAjD,CAAsD,SAACC,QAAD,CAAc,CAClE,GAAIA,QAAQ,CAACC,MAAT,EAAJ,CAAuB,CACrB,GAAMC,KAAI,CAAGF,QAAQ,CAACG,GAAT,EAAb,CACAT,WAAW,CAACQ,IAAI,CAACX,IAAN,CAAX,CACD,CAHD,IAGO,CACLa,OAAO,CAACC,GAAR,CAAY,mBAAZ,EACD,CACF,CAPD,EAOGC,KAPH,CAOS,SAACC,KAAD,CAAW,CAClBH,OAAO,CAACG,KAAR,CAAcA,KAAd,EACD,CATD,EAWAnB,GAAG,CAACD,KAAK,CAACW,KAAD,CAAQ,SAAWN,MAAX,CAAoB,OAA5B,CAAN,CAAH,CAA+CO,IAA/C,CAAoD,SAACC,QAAD,CAAc,CAChE,GAAIA,QAAQ,CAACC,MAAT,EAAJ,CAAuB,CACrB,GAAMC,KAAI,CAAGF,QAAQ,CAACG,GAAT,EAAb,CACAP,OAAO,CAACM,IAAD,CAAP,CACD,CAHD,IAGO,CACLE,OAAO,CAACC,GAAR,CAAY,mBAAZ,EACD,CACF,CAPD,EAOGC,KAPH,CAOS,SAACC,KAAD,CAAW,CAClBH,OAAO,CAACG,KAAR,CAAcA,KAAd,EACD,CATD,EAUD,CAvBD,CAyBA;AACA,GAAMC,eAAc,CAAG,CACnBC,WAAW,CAAE,qDADM,CAAvB,CAIA;AACA,GAAMC,IAAG,CAAG3B,aAAa,CAACyB,cAAD,CAAzB,CAEA;AACA,GAAMG,SAAQ,CAAG3B,WAAW,CAAC0B,GAAD,CAA5B,CACA,GAAMZ,MAAK,CAAGb,GAAG,CAAC0B,QAAD,CAAjB,CAEA,mBACI,aAAK,SAAS,CAAC,gBAAf,wBACI,oBAAKrB,GAAL,EADJ,cAEI,oCAAgBC,IAAI,CAACqB,QAAL,GAAgBC,KAAhB,CAAsB,CAAtB,CAAyB,CAAC,CAA1B,CAAhB,KAA+CtB,IAAI,CAACqB,QAAL,GAAgBC,KAAhB,CAAsB,CAAtB,CAAyB,CAAC,CAA1B,CAA/C,WAFJ,cAGI,oCAAgBpB,QAAQ,CAACmB,QAAT,GAAoBC,KAApB,CAA0B,CAA1B,CAA6B,CAAC,CAA9B,CAAhB,KAAmDpB,QAAQ,CAACmB,QAAT,GAAoBC,KAApB,CAA0B,CAA1B,CAA6B,CAAC,CAA9B,CAAnD,aAA8FlB,IAA9F,GAHJ,GADJ,CAOH"},"metadata":{},"sourceType":"module"}