{"ast":null,"code":"import _slicedToArray from\"/Users/benedicttedjokusumo/Desktop/hack-a-thing-2-22f-benny-2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import Card from'./Card';import{initializeApp}from\"firebase/app\";import{getDatabase,ref,set,child,get}from\"firebase/database\";import'./ViewGames.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ViewGames(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),currObjects=_useState2[0],setCurrObjects=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),bestTimes=_useState4[0],setBestTimes=_useState4[1];var num=localStorage.getItem('num');var keyRef='users/'+num.toString();useEffect(function(){readDatabase();},[]);var readDatabase=function readDatabase(){// Get user times\nget(child(dbRef,keyRef)).then(function(snapshot){if(snapshot.exists()){var data=snapshot.val();setCurrObjects(data);}else{console.log(\"No data available\");}}).catch(function(error){console.error(error);});// Get best times\nget(child(dbRef,'best')).then(function(snapshot){if(snapshot.exists()){var data=snapshot.val();console.log(data);setBestTimes(data);}else{console.log(\"No data available\");}}).catch(function(error){console.error(error);});};// Database code sourced from https://firebase.google.com/docs/database/web/read-and-write?hl=en&authuser=3#web-version-9_2\nvar firebaseConfig={databaseURL:\"https://operators-a44ee-default-rtdb.firebaseio.com\"};// Initialize Firebase\nvar app=initializeApp(firebaseConfig);// Initialize Realtime Database and get a reference to the service\nvar database=getDatabase(app);var dbRef=ref(database);return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your Results:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:Object.keys(currObjects).map(function(key,index){return key!=='name'&&Object.keys(bestTimes).length!==0&&/*#__PURE__*/_jsx(Card,{tag:key,keyRef:bestTimes[key],hint:currObjects[key].hint,time:currObjects[key].time},index);})})]})});}","map":{"version":3,"names":["React","useState","useEffect","Card","initializeApp","getDatabase","ref","set","child","get","ViewGames","currObjects","setCurrObjects","bestTimes","setBestTimes","num","localStorage","getItem","keyRef","toString","readDatabase","dbRef","then","snapshot","exists","data","val","console","log","catch","error","firebaseConfig","databaseURL","app","database","Object","keys","map","key","index","length","hint","time"],"sources":["/Users/benedicttedjokusumo/Desktop/hack-a-thing-2-22f-benny-2/src/ViewGames.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Card from './Card';\nimport { initializeApp } from \"firebase/app\";\nimport { getDatabase, ref, set, child, get } from \"firebase/database\";\nimport './ViewGames.css'\n\nexport default function ViewGames() {\n\n    const [currObjects, setCurrObjects] = useState({});\n    const [bestTimes, setBestTimes] = useState({});\n\n    const num = localStorage.getItem('num')\n    const keyRef = 'users/' + num.toString()\n\n    useEffect(() => {\n        readDatabase()\n    }, []);\n\n    const readDatabase = () => {\n\n      // Get user times\n      get(child(dbRef, keyRef)).then((snapshot) => {\n        if (snapshot.exists()) {\n          const data = snapshot.val()\n          setCurrObjects(data)\n        } else {\n          console.log(\"No data available\");\n        }\n      }).catch((error) => {\n        console.error(error);\n      });\n\n      // Get best times\n      get(child(dbRef, 'best')).then((snapshot) => {\n        if (snapshot.exists()) {\n          const data = snapshot.val()\n          console.log(data)\n          setBestTimes(data)\n        } else {\n          console.log(\"No data available\");\n        }\n      }).catch((error) => {\n        console.error(error);\n      });\n    }\n\n    // Database code sourced from https://firebase.google.com/docs/database/web/read-and-write?hl=en&authuser=3#web-version-9_2\n    const firebaseConfig = {\n        databaseURL: \"https://operators-a44ee-default-rtdb.firebaseio.com\",\n      };\n      \n    // Initialize Firebase\n    const app = initializeApp(firebaseConfig);\n\n    // Initialize Realtime Database and get a reference to the service\n    const database = getDatabase(app);\n    const dbRef = ref(database);\n\n    return (\n        <div className=\"App\">\n            <header className=\"App-header\">\n                <h2>Your Results:</h2>\n                <div className=\"card\">\n                    {\n                        Object.keys(currObjects).map((key, index) => (\n                            \n                            key !== 'name' && Object.keys(bestTimes).length !== 0\n                            &&\n                            <Card\n                                key = {index}\n                                tag = {key}\n                                keyRef = {bestTimes[key]}\n                                hint = {currObjects[key].hint}\n                                time = {currObjects[key].time}\n                            />\n                        ))\n                    }\n                </div>\n            </header>\n        </div>\n    )\n}\n"],"mappings":"mJAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,KAAP,KAAiB,QAAjB,CACA,OAASC,aAAT,KAA8B,cAA9B,CACA,OAASC,WAAT,CAAsBC,GAAtB,CAA2BC,GAA3B,CAAgCC,KAAhC,CAAuCC,GAAvC,KAAkD,mBAAlD,CACA,MAAO,iBAAP,C,wFAEA,cAAe,SAASC,UAAT,EAAqB,CAEhC,cAAsCT,QAAQ,CAAC,EAAD,CAA9C,wCAAOU,WAAP,eAAoBC,cAApB,eACA,eAAkCX,QAAQ,CAAC,EAAD,CAA1C,yCAAOY,SAAP,eAAkBC,YAAlB,eAEA,GAAMC,IAAG,CAAGC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAZ,CACA,GAAMC,OAAM,CAAG,SAAWH,GAAG,CAACI,QAAJ,EAA1B,CAEAjB,SAAS,CAAC,UAAM,CACZkB,YAAY,GACf,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMA,aAAY,CAAG,QAAfA,aAAe,EAAM,CAEzB;AACAX,GAAG,CAACD,KAAK,CAACa,KAAD,CAAQH,MAAR,CAAN,CAAH,CAA0BI,IAA1B,CAA+B,SAACC,QAAD,CAAc,CAC3C,GAAIA,QAAQ,CAACC,MAAT,EAAJ,CAAuB,CACrB,GAAMC,KAAI,CAAGF,QAAQ,CAACG,GAAT,EAAb,CACAd,cAAc,CAACa,IAAD,CAAd,CACD,CAHD,IAGO,CACLE,OAAO,CAACC,GAAR,CAAY,mBAAZ,EACD,CACF,CAPD,EAOGC,KAPH,CAOS,SAACC,KAAD,CAAW,CAClBH,OAAO,CAACG,KAAR,CAAcA,KAAd,EACD,CATD,EAWA;AACArB,GAAG,CAACD,KAAK,CAACa,KAAD,CAAQ,MAAR,CAAN,CAAH,CAA0BC,IAA1B,CAA+B,SAACC,QAAD,CAAc,CAC3C,GAAIA,QAAQ,CAACC,MAAT,EAAJ,CAAuB,CACrB,GAAMC,KAAI,CAAGF,QAAQ,CAACG,GAAT,EAAb,CACAC,OAAO,CAACC,GAAR,CAAYH,IAAZ,EACAX,YAAY,CAACW,IAAD,CAAZ,CACD,CAJD,IAIO,CACLE,OAAO,CAACC,GAAR,CAAY,mBAAZ,EACD,CACF,CARD,EAQGC,KARH,CAQS,SAACC,KAAD,CAAW,CAClBH,OAAO,CAACG,KAAR,CAAcA,KAAd,EACD,CAVD,EAWD,CA1BD,CA4BA;AACA,GAAMC,eAAc,CAAG,CACnBC,WAAW,CAAE,qDADM,CAAvB,CAIA;AACA,GAAMC,IAAG,CAAG7B,aAAa,CAAC2B,cAAD,CAAzB,CAEA;AACA,GAAMG,SAAQ,CAAG7B,WAAW,CAAC4B,GAAD,CAA5B,CACA,GAAMZ,MAAK,CAAGf,GAAG,CAAC4B,QAAD,CAAjB,CAEA,mBACI,YAAK,SAAS,CAAC,KAAf,uBACI,gBAAQ,SAAS,CAAC,YAAlB,wBACI,qCADJ,cAEI,YAAK,SAAS,CAAC,MAAf,UAEQC,MAAM,CAACC,IAAP,CAAYzB,WAAZ,EAAyB0B,GAAzB,CAA6B,SAACC,GAAD,CAAMC,KAAN,QAEzBD,IAAG,GAAK,MAAR,EAAkBH,MAAM,CAACC,IAAP,CAAYvB,SAAZ,EAAuB2B,MAAvB,GAAkC,CAApD,eAEA,KAAC,IAAD,EAEI,GAAG,CAAIF,GAFX,CAGI,MAAM,CAAIzB,SAAS,CAACyB,GAAD,CAHvB,CAII,IAAI,CAAI3B,WAAW,CAAC2B,GAAD,CAAX,CAAiBG,IAJ7B,CAKI,IAAI,CAAI9B,WAAW,CAAC2B,GAAD,CAAX,CAAiBI,IAL7B,EACWH,KADX,CAJyB,EAA7B,CAFR,EAFJ,GADJ,EADJ,CAuBH"},"metadata":{},"sourceType":"module"}