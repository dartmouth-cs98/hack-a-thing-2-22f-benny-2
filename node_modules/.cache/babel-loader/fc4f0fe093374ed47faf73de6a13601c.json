{"ast":null,"code":"var _jsxFileName = \"/Users/benedicttedjokusumo/Desktop/hack-a-thing-1-22f-benny/src/GameScene.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport './GameScene.css';\nimport { initializeApp } from \"firebase/app\";\nimport { getDatabase, ref, set, child, get } from \"firebase/database\";\nimport WinScreen from './WinScreen';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Game1 = _ref => {\n  _s();\n\n  let {\n    keyRef,\n    targets,\n    nums,\n    limit,\n    solution\n  } = _ref;\n  const [count, setCount] = useState(targets[0]);\n  const [doneTarget, setDone] = useState(1);\n  const [operationCount, setOCount] = useState(0);\n  const [hintNum, setHints] = useState(0);\n  let [operations] = useState([]);\n  let [countHistory] = useState([targets[0]]);\n  let [targetHistory] = useState([0]);\n  const [time, setTime] = useState(0);\n  const [running, setRunning] = useState(false);\n  const [complete, setComplete] = useState(false); // Database code sourced from https://firebase.google.com/docs/database/web/read-and-write?hl=en&authuser=3#web-version-9_2\n\n  const firebaseConfig = {\n    databaseURL: \"https://operators-a44ee-default-rtdb.firebaseio.com\"\n  }; // Initialize Firebase\n\n  const app = initializeApp(firebaseConfig); // Initialize Realtime Database and get a reference to the service\n\n  const database = getDatabase(app);\n\n  const readDatabase = async () => {\n    await get(child(database, keyRef)); // .then((snapshot) => {\n    //   if (snapshot.exists()) {\n    //     console.log(snapshot.val());\n    //   } else {\n    //     console.log(\"No data available\");\n    //   }\n    // }).catch((error) => {\n    //   console.log('huh')\n    //   // console.error(error);\n    // });\n  }; // Timer code sourced from https://w3collective.com/react-stopwatch/\n\n\n  useEffect(() => {\n    readDatabase();\n    let interval;\n    if (keyRef && !complete) setRunning(true);\n\n    if (running) {\n      interval = setInterval(() => {\n        setTime(prevTime => prevTime + 10);\n      }, 10);\n    } else if (!running) {\n      clearInterval(interval);\n    }\n\n    return () => clearInterval(interval);\n  }, [running]);\n\n  const writeToDataBase = (currTime, hints, solution) => {\n    set(ref(database, keyRef), {\n      time: currTime,\n      hints: hints,\n      solution: solution\n    });\n  };\n\n  const levelCompleted = () => {\n    writeToDataBase(time, hintNum, operations);\n    setComplete(true);\n    setRunning(false);\n  };\n\n  const pressOperation = num => {\n    if (operationCount <= limit - 1) {\n      const newCount = performOperation(num);\n\n      if (newCount || newCount === 0) {\n        countHistory.push(newCount);\n        targets.forEach((target, idx) => {\n          if (doneTarget === idx && target === newCount) {\n            setDone(doneTarget + 1);\n            targetHistory.push(1);\n\n            if (doneTarget === 3) {\n              levelCompleted();\n            }\n          }\n        });\n        if (targetHistory.length < countHistory.length) targetHistory.push(0);\n        operations.push(num);\n        setOCount(operationCount + 1);\n        setCount(newCount);\n      }\n    } else {\n      console.log('warning!');\n    }\n  };\n\n  const performOperation = operation => {\n    const value = count; // console.log(value)\n\n    if (operation.includes(\"sqrt\") && value > 0 && Math.sqrt(value) % 1 === 0) {\n      return Math.sqrt(value);\n    } else if (!operation.includes(\"sqrt\")) {\n      const operand = operation.charAt(0);\n      const number = parseInt(operation.substr(1, operation.length));\n\n      if (operand === \"/\" && value % number === 0 && value !== 0) {\n        return value / number;\n      } else if (operand === \"+\") {\n        return value + number;\n      } else if (operand === \"-\") {\n        return value - number;\n      } else if (operand === \"*\") {\n        return value * number;\n      }\n    }\n  };\n\n  const undoButton = () => {\n    if (operationCount > 0) {\n      let prev_operation = operations.pop();\n      const newCount = performUndo(prev_operation); // eslint-disable-next-line react/prop-types\n\n      targets.forEach((target, idx) => {\n        if (doneTarget === idx + 1 && target === count && targetHistory[operations.length + 1] === 1) {\n          setDone(doneTarget - 1);\n        }\n      });\n      targetHistory.pop();\n      countHistory.pop();\n      setOCount(operationCount - 1);\n      setCount(newCount);\n    } else {\n      console.log('Can not undo!');\n    }\n  };\n\n  const performUndo = operation => {\n    const value = count;\n\n    if (operation.includes(\"sqrt\") && value > 0 && Math.sqrt(value) % 1 === 0) {\n      return Math.sqrt(value);\n    } else if (!operation.includes(\"sqrt\")) {\n      const operand = operation.charAt(0);\n      const number = parseInt(operation.substr(1, operation.length));\n\n      if (operand === \"/\") {\n        return value * number;\n      } else if (operand === \"+\") {\n        return value - number;\n      } else if (operand === \"-\") {\n        return value + number;\n      } else if (operand === \"*\") {\n        return value / number;\n      } else {\n        return false;\n      }\n    }\n  };\n\n  const reset = () => {\n    setCount(targets[0]);\n    setDone(1);\n    setOCount(0);\n\n    for (let i = countHistory.length; i > 1; i--) {\n      countHistory.pop();\n      targetHistory.pop();\n      operations.pop();\n    }\n  };\n\n  const getHint = () => {\n    if (solution.length > hintNum) {\n      setHints(hintNum + 1);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"gameScene\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"history\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Time: \", time.toString().slice(0, -3)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"History\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"countHistory\",\n        children: countHistory.map((elm, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"count-operation\",\n            children: operations[idx - 1]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: targetHistory[idx] === 1 || idx === 0 ? \"count-num-target\" : 'count-num',\n            children: elm\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"solutions\",\n        children: solution.map((elm, idx) => /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"solution\",\n          children: hintNum > idx ? elm : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: count\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Limit:\", ' ', operationCount, \"/\", limit]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"targets\",\n        children: targets.map((target, idx) => /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: doneTarget > idx ? 'done' : '',\n          children: `${idx === 0 ? '' : ' -> '}${target}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this), complete ? /*#__PURE__*/_jsxDEV(WinScreen, {\n        time: time,\n        hints: hintNum\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 22\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"operations\",\n        children: nums.map(num => /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"operation\",\n          type: \"button\",\n          onClick: () => pressOperation(num),\n          children: num\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"operations\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => undoButton(),\n          children: \"undo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => reset(),\n          children: \"reset\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => getHint(),\n          children: \"hint\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 200,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Game1, \"S8yjiOfgZ2DekRKNSyjJCkxtR24=\");\n\n_c = Game1;\nexport default Game1;\n\nvar _c;\n\n$RefreshReg$(_c, \"Game1\");","map":{"version":3,"names":["React","useState","useEffect","initializeApp","getDatabase","ref","set","child","get","WinScreen","Game1","keyRef","targets","nums","limit","solution","count","setCount","doneTarget","setDone","operationCount","setOCount","hintNum","setHints","operations","countHistory","targetHistory","time","setTime","running","setRunning","complete","setComplete","firebaseConfig","databaseURL","app","database","readDatabase","interval","setInterval","prevTime","clearInterval","writeToDataBase","currTime","hints","levelCompleted","pressOperation","num","newCount","performOperation","push","forEach","target","idx","length","console","log","operation","value","includes","Math","sqrt","operand","charAt","number","parseInt","substr","undoButton","prev_operation","pop","performUndo","reset","i","getHint","toString","slice","map","elm"],"sources":["/Users/benedicttedjokusumo/Desktop/hack-a-thing-1-22f-benny/src/GameScene.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './GameScene.css';\nimport { initializeApp } from \"firebase/app\";\nimport { getDatabase, ref, set, child, get } from \"firebase/database\";\nimport WinScreen from './WinScreen';\n\n\nconst Game1 = ({\n  keyRef, targets, nums, limit, solution\n}) => {\n  const [count, setCount] = useState(targets[0]);\n  const [doneTarget, setDone] = useState(1);\n  const [operationCount, setOCount] = useState(0);\n  const [hintNum, setHints] = useState(0);\n  \n  let [operations] = useState([]);\n  let [countHistory] = useState([targets[0]])\n  let [targetHistory] = useState([0]);\n\n  const [time, setTime] = useState(0);\n  const [running, setRunning] = useState(false);\n  const [complete, setComplete] = useState(false);\n\n  // Database code sourced from https://firebase.google.com/docs/database/web/read-and-write?hl=en&authuser=3#web-version-9_2\n  const firebaseConfig = {\n    databaseURL: \"https://operators-a44ee-default-rtdb.firebaseio.com\",\n  };\n  \n  // Initialize Firebase\n  const app = initializeApp(firebaseConfig);\n  // Initialize Realtime Database and get a reference to the service\n  const database = getDatabase(app);\n\n  const readDatabase = async () => {\n    await get(child(database, keyRef))\n    // .then((snapshot) => {\n    //   if (snapshot.exists()) {\n    //     console.log(snapshot.val());\n    //   } else {\n    //     console.log(\"No data available\");\n    //   }\n    // }).catch((error) => {\n    //   console.log('huh')\n    //   // console.error(error);\n    // });\n  }\n  // Timer code sourced from https://w3collective.com/react-stopwatch/\n  useEffect(() => {\n    readDatabase()\n\n    let interval;\n    if(keyRef && !complete) setRunning(true)\n    if (running) {\n      interval = setInterval(() => {\n        setTime((prevTime) => prevTime + 10);\n      }, 10);\n    } else if (!running) {\n      clearInterval(interval);\n    }\n    return () => clearInterval(interval);\n  }, [running]);\n\n\n  \n\n  \n  const writeToDataBase = (currTime, hints, solution) => {\n    set(ref(database, keyRef), {\n      time: currTime,\n      hints: hints,\n      solution: solution\n    });\n  }\n  \n\n  const levelCompleted = () => {\n    writeToDataBase(time, hintNum,operations)\n    setComplete(true)\n    setRunning(false)\n  }\n\n  const pressOperation = (num) => {\n    if (operationCount <= limit - 1) {\n\n      const newCount = performOperation(num);\n      if (newCount || newCount === 0) {\n        countHistory.push(newCount);\n\n        targets.forEach((target, idx) => {\n          if (doneTarget === idx && target === newCount) {\n            setDone(doneTarget + 1);\n            targetHistory.push(1);\n            if (doneTarget === 3) {\n              levelCompleted()\n            }\n          }\n        });\n  \n        if (targetHistory.length < countHistory.length)\n          targetHistory.push(0)\n        operations.push(num);\n        setOCount(operationCount + 1);\n        setCount(newCount);\n      }\n    } else {\n      console.log('warning!');\n    }\n  };\n\n  const performOperation = (operation) => {\n    const value = count;\n    // console.log(value)\n    if (operation.includes(\"sqrt\") && value > 0 && Math.sqrt(value) % 1 === 0) {\n      return Math.sqrt(value)\n    }\n    else if (!operation.includes(\"sqrt\")) {\n      const operand = operation.charAt(0)\n      const number = parseInt(operation.substr(1,operation.length))\n      if (operand === \"/\" && value % number === 0 && value !== 0){\n        return value / number;\n      }\n      else if (operand === \"+\") {\n        return value + number\n      }\n      else if (operand === \"-\") {\n        return value - number\n      }\n      else if (operand === \"*\") {\n        return value * number\n      }\n    }\n  }\n\n  const undoButton = () => {\n\n    if (operationCount > 0) {\n      let prev_operation = operations.pop();\n      const newCount = performUndo(prev_operation);\n      // eslint-disable-next-line react/prop-types\n      targets.forEach((target, idx) => {\n        if (doneTarget === idx+1 && target === count && targetHistory[operations.length+1] === 1) {\n          setDone(doneTarget - 1);\n        }\n      });\n      targetHistory.pop();\n      countHistory.pop();\n      setOCount(operationCount - 1);\n      setCount(newCount);\n    } else {\n      console.log('Can not undo!');\n    }\n  };\n\n  const performUndo = (operation) => {\n    const value = count;\n    if (operation.includes(\"sqrt\") && value > 0 && Math.sqrt(value) % 1 === 0) {\n      return Math.sqrt(value)\n    }\n    else if (!operation.includes(\"sqrt\")) {\n      const operand = operation.charAt(0)\n      const number = parseInt(operation.substr(1,operation.length))\n      if (operand === \"/\"){\n        return value * number;\n      }\n      else if (operand === \"+\") {\n        return value - number\n      }\n      else if (operand === \"-\") {\n        return value + number\n      }\n      else if (operand === \"*\") {\n        return value / number\n      }\n      else {\n        return false;\n      }\n    }\n  }\n\n  const reset = () => {\n    setCount(targets[0]);\n    setDone(1);\n    setOCount(0);\n    for (let i = countHistory.length; i > 1; i--) {\n      countHistory.pop();\n      targetHistory.pop();\n      operations.pop();\n    }\n  }\n\n  const getHint = () => {\n\n    if (solution.length > hintNum)\n    {\n      setHints(hintNum + 1);\n    }\n  }\n  return (\n\n    <div className=\"gameScene\">\n      <div className='history'>\n        <h1>Time: {time.toString().slice(0, -3)}</h1>\n        <h2>History</h2>\n        <div className='countHistory'>\n          {countHistory.map((elm, idx) => (\n            <div>\n              <p className= \"count-operation\" >{operations[idx-1]}</p>\n              <p className={targetHistory[idx] === 1  || idx === 0 ? \"count-num-target\" : 'count-num'}>{elm}</p>\n            </div>\n          ))}\n        </div>\n\n        <div className='solutions'>\n\n          {solution.map((elm, idx) => (\n              <p className=\"solution\">{hintNum > idx ? elm : null}</p>\n          ))}\n        </div>\n      </div>\n\n      <div>\n        <h1>{count}</h1>\n        <h3>\n          Limit:\n          {' '}\n          {operationCount}\n          /\n          {limit}\n        </h3>\n        <div className=\"targets\">\n          {targets.map((target, idx) => (\n            <h2 className={doneTarget > idx ? 'done' : ''}>\n              {`${idx === 0 ? '' : ' -> '}${target}`}\n            </h2>\n          ))}\n        </div>\n        { complete ? <WinScreen time={time} hints={hintNum}/> : null}\n        <div className=\"operations\">\n          {nums.map((num) => (\n            <button className=\"operation\" type=\"button\" onClick={() => pressOperation(num)}>{num}</button>\n          ))}\n        </div>\n\n        <div className=\"operations\">\n          <button type=\"button\" onClick={() => undoButton()}>undo</button>\n          <button type=\"button\" onClick={() => reset()}>reset</button>\n          <button type=\"button\" onClick={() => getHint()}>hint</button>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default Game1;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAO,iBAAP;AACA,SAASC,aAAT,QAA8B,cAA9B;AACA,SAASC,WAAT,EAAsBC,GAAtB,EAA2BC,GAA3B,EAAgCC,KAAhC,EAAuCC,GAAvC,QAAkD,mBAAlD;AACA,OAAOC,SAAP,MAAsB,aAAtB;;;AAGA,MAAMC,KAAK,GAAG,QAER;EAAA;;EAAA,IAFS;IACbC,MADa;IACLC,OADK;IACIC,IADJ;IACUC,KADV;IACiBC;EADjB,CAET;EACJ,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBhB,QAAQ,CAACW,OAAO,CAAC,CAAD,CAAR,CAAlC;EACA,MAAM,CAACM,UAAD,EAAaC,OAAb,IAAwBlB,QAAQ,CAAC,CAAD,CAAtC;EACA,MAAM,CAACmB,cAAD,EAAiBC,SAAjB,IAA8BpB,QAAQ,CAAC,CAAD,CAA5C;EACA,MAAM,CAACqB,OAAD,EAAUC,QAAV,IAAsBtB,QAAQ,CAAC,CAAD,CAApC;EAEA,IAAI,CAACuB,UAAD,IAAevB,QAAQ,CAAC,EAAD,CAA3B;EACA,IAAI,CAACwB,YAAD,IAAiBxB,QAAQ,CAAC,CAACW,OAAO,CAAC,CAAD,CAAR,CAAD,CAA7B;EACA,IAAI,CAACc,aAAD,IAAkBzB,QAAQ,CAAC,CAAC,CAAD,CAAD,CAA9B;EAEA,MAAM,CAAC0B,IAAD,EAAOC,OAAP,IAAkB3B,QAAQ,CAAC,CAAD,CAAhC;EACA,MAAM,CAAC4B,OAAD,EAAUC,UAAV,IAAwB7B,QAAQ,CAAC,KAAD,CAAtC;EACA,MAAM,CAAC8B,QAAD,EAAWC,WAAX,IAA0B/B,QAAQ,CAAC,KAAD,CAAxC,CAZI,CAcJ;;EACA,MAAMgC,cAAc,GAAG;IACrBC,WAAW,EAAE;EADQ,CAAvB,CAfI,CAmBJ;;EACA,MAAMC,GAAG,GAAGhC,aAAa,CAAC8B,cAAD,CAAzB,CApBI,CAqBJ;;EACA,MAAMG,QAAQ,GAAGhC,WAAW,CAAC+B,GAAD,CAA5B;;EAEA,MAAME,YAAY,GAAG,YAAY;IAC/B,MAAM7B,GAAG,CAACD,KAAK,CAAC6B,QAAD,EAAWzB,MAAX,CAAN,CAAT,CAD+B,CAE/B;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACD,CAZD,CAxBI,CAqCJ;;;EACAT,SAAS,CAAC,MAAM;IACdmC,YAAY;IAEZ,IAAIC,QAAJ;IACA,IAAG3B,MAAM,IAAI,CAACoB,QAAd,EAAwBD,UAAU,CAAC,IAAD,CAAV;;IACxB,IAAID,OAAJ,EAAa;MACXS,QAAQ,GAAGC,WAAW,CAAC,MAAM;QAC3BX,OAAO,CAAEY,QAAD,IAAcA,QAAQ,GAAG,EAA1B,CAAP;MACD,CAFqB,EAEnB,EAFmB,CAAtB;IAGD,CAJD,MAIO,IAAI,CAACX,OAAL,EAAc;MACnBY,aAAa,CAACH,QAAD,CAAb;IACD;;IACD,OAAO,MAAMG,aAAa,CAACH,QAAD,CAA1B;EACD,CAbQ,EAaN,CAACT,OAAD,CAbM,CAAT;;EAmBA,MAAMa,eAAe,GAAG,CAACC,QAAD,EAAWC,KAAX,EAAkB7B,QAAlB,KAA+B;IACrDT,GAAG,CAACD,GAAG,CAAC+B,QAAD,EAAWzB,MAAX,CAAJ,EAAwB;MACzBgB,IAAI,EAAEgB,QADmB;MAEzBC,KAAK,EAAEA,KAFkB;MAGzB7B,QAAQ,EAAEA;IAHe,CAAxB,CAAH;EAKD,CAND;;EASA,MAAM8B,cAAc,GAAG,MAAM;IAC3BH,eAAe,CAACf,IAAD,EAAOL,OAAP,EAAeE,UAAf,CAAf;IACAQ,WAAW,CAAC,IAAD,CAAX;IACAF,UAAU,CAAC,KAAD,CAAV;EACD,CAJD;;EAMA,MAAMgB,cAAc,GAAIC,GAAD,IAAS;IAC9B,IAAI3B,cAAc,IAAIN,KAAK,GAAG,CAA9B,EAAiC;MAE/B,MAAMkC,QAAQ,GAAGC,gBAAgB,CAACF,GAAD,CAAjC;;MACA,IAAIC,QAAQ,IAAIA,QAAQ,KAAK,CAA7B,EAAgC;QAC9BvB,YAAY,CAACyB,IAAb,CAAkBF,QAAlB;QAEApC,OAAO,CAACuC,OAAR,CAAgB,CAACC,MAAD,EAASC,GAAT,KAAiB;UAC/B,IAAInC,UAAU,KAAKmC,GAAf,IAAsBD,MAAM,KAAKJ,QAArC,EAA+C;YAC7C7B,OAAO,CAACD,UAAU,GAAG,CAAd,CAAP;YACAQ,aAAa,CAACwB,IAAd,CAAmB,CAAnB;;YACA,IAAIhC,UAAU,KAAK,CAAnB,EAAsB;cACpB2B,cAAc;YACf;UACF;QACF,CARD;QAUA,IAAInB,aAAa,CAAC4B,MAAd,GAAuB7B,YAAY,CAAC6B,MAAxC,EACE5B,aAAa,CAACwB,IAAd,CAAmB,CAAnB;QACF1B,UAAU,CAAC0B,IAAX,CAAgBH,GAAhB;QACA1B,SAAS,CAACD,cAAc,GAAG,CAAlB,CAAT;QACAH,QAAQ,CAAC+B,QAAD,CAAR;MACD;IACF,CAtBD,MAsBO;MACLO,OAAO,CAACC,GAAR,CAAY,UAAZ;IACD;EACF,CA1BD;;EA4BA,MAAMP,gBAAgB,GAAIQ,SAAD,IAAe;IACtC,MAAMC,KAAK,GAAG1C,KAAd,CADsC,CAEtC;;IACA,IAAIyC,SAAS,CAACE,QAAV,CAAmB,MAAnB,KAA8BD,KAAK,GAAG,CAAtC,IAA2CE,IAAI,CAACC,IAAL,CAAUH,KAAV,IAAmB,CAAnB,KAAyB,CAAxE,EAA2E;MACzE,OAAOE,IAAI,CAACC,IAAL,CAAUH,KAAV,CAAP;IACD,CAFD,MAGK,IAAI,CAACD,SAAS,CAACE,QAAV,CAAmB,MAAnB,CAAL,EAAiC;MACpC,MAAMG,OAAO,GAAGL,SAAS,CAACM,MAAV,CAAiB,CAAjB,CAAhB;MACA,MAAMC,MAAM,GAAGC,QAAQ,CAACR,SAAS,CAACS,MAAV,CAAiB,CAAjB,EAAmBT,SAAS,CAACH,MAA7B,CAAD,CAAvB;;MACA,IAAIQ,OAAO,KAAK,GAAZ,IAAmBJ,KAAK,GAAGM,MAAR,KAAmB,CAAtC,IAA2CN,KAAK,KAAK,CAAzD,EAA2D;QACzD,OAAOA,KAAK,GAAGM,MAAf;MACD,CAFD,MAGK,IAAIF,OAAO,KAAK,GAAhB,EAAqB;QACxB,OAAOJ,KAAK,GAAGM,MAAf;MACD,CAFI,MAGA,IAAIF,OAAO,KAAK,GAAhB,EAAqB;QACxB,OAAOJ,KAAK,GAAGM,MAAf;MACD,CAFI,MAGA,IAAIF,OAAO,KAAK,GAAhB,EAAqB;QACxB,OAAOJ,KAAK,GAAGM,MAAf;MACD;IACF;EACF,CAtBD;;EAwBA,MAAMG,UAAU,GAAG,MAAM;IAEvB,IAAI/C,cAAc,GAAG,CAArB,EAAwB;MACtB,IAAIgD,cAAc,GAAG5C,UAAU,CAAC6C,GAAX,EAArB;MACA,MAAMrB,QAAQ,GAAGsB,WAAW,CAACF,cAAD,CAA5B,CAFsB,CAGtB;;MACAxD,OAAO,CAACuC,OAAR,CAAgB,CAACC,MAAD,EAASC,GAAT,KAAiB;QAC/B,IAAInC,UAAU,KAAKmC,GAAG,GAAC,CAAnB,IAAwBD,MAAM,KAAKpC,KAAnC,IAA4CU,aAAa,CAACF,UAAU,CAAC8B,MAAX,GAAkB,CAAnB,CAAb,KAAuC,CAAvF,EAA0F;UACxFnC,OAAO,CAACD,UAAU,GAAG,CAAd,CAAP;QACD;MACF,CAJD;MAKAQ,aAAa,CAAC2C,GAAd;MACA5C,YAAY,CAAC4C,GAAb;MACAhD,SAAS,CAACD,cAAc,GAAG,CAAlB,CAAT;MACAH,QAAQ,CAAC+B,QAAD,CAAR;IACD,CAbD,MAaO;MACLO,OAAO,CAACC,GAAR,CAAY,eAAZ;IACD;EACF,CAlBD;;EAoBA,MAAMc,WAAW,GAAIb,SAAD,IAAe;IACjC,MAAMC,KAAK,GAAG1C,KAAd;;IACA,IAAIyC,SAAS,CAACE,QAAV,CAAmB,MAAnB,KAA8BD,KAAK,GAAG,CAAtC,IAA2CE,IAAI,CAACC,IAAL,CAAUH,KAAV,IAAmB,CAAnB,KAAyB,CAAxE,EAA2E;MACzE,OAAOE,IAAI,CAACC,IAAL,CAAUH,KAAV,CAAP;IACD,CAFD,MAGK,IAAI,CAACD,SAAS,CAACE,QAAV,CAAmB,MAAnB,CAAL,EAAiC;MACpC,MAAMG,OAAO,GAAGL,SAAS,CAACM,MAAV,CAAiB,CAAjB,CAAhB;MACA,MAAMC,MAAM,GAAGC,QAAQ,CAACR,SAAS,CAACS,MAAV,CAAiB,CAAjB,EAAmBT,SAAS,CAACH,MAA7B,CAAD,CAAvB;;MACA,IAAIQ,OAAO,KAAK,GAAhB,EAAoB;QAClB,OAAOJ,KAAK,GAAGM,MAAf;MACD,CAFD,MAGK,IAAIF,OAAO,KAAK,GAAhB,EAAqB;QACxB,OAAOJ,KAAK,GAAGM,MAAf;MACD,CAFI,MAGA,IAAIF,OAAO,KAAK,GAAhB,EAAqB;QACxB,OAAOJ,KAAK,GAAGM,MAAf;MACD,CAFI,MAGA,IAAIF,OAAO,KAAK,GAAhB,EAAqB;QACxB,OAAOJ,KAAK,GAAGM,MAAf;MACD,CAFI,MAGA;QACH,OAAO,KAAP;MACD;IACF;EACF,CAxBD;;EA0BA,MAAMO,KAAK,GAAG,MAAM;IAClBtD,QAAQ,CAACL,OAAO,CAAC,CAAD,CAAR,CAAR;IACAO,OAAO,CAAC,CAAD,CAAP;IACAE,SAAS,CAAC,CAAD,CAAT;;IACA,KAAK,IAAImD,CAAC,GAAG/C,YAAY,CAAC6B,MAA1B,EAAkCkB,CAAC,GAAG,CAAtC,EAAyCA,CAAC,EAA1C,EAA8C;MAC5C/C,YAAY,CAAC4C,GAAb;MACA3C,aAAa,CAAC2C,GAAd;MACA7C,UAAU,CAAC6C,GAAX;IACD;EACF,CATD;;EAWA,MAAMI,OAAO,GAAG,MAAM;IAEpB,IAAI1D,QAAQ,CAACuC,MAAT,GAAkBhC,OAAtB,EACA;MACEC,QAAQ,CAACD,OAAO,GAAG,CAAX,CAAR;IACD;EACF,CAND;;EAOA,oBAEE;IAAK,SAAS,EAAC,WAAf;IAAA,wBACE;MAAK,SAAS,EAAC,SAAf;MAAA,wBACE;QAAA,qBAAWK,IAAI,CAAC+C,QAAL,GAAgBC,KAAhB,CAAsB,CAAtB,EAAyB,CAAC,CAA1B,CAAX;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAEE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAFF,eAGE;QAAK,SAAS,EAAC,cAAf;QAAA,UACGlD,YAAY,CAACmD,GAAb,CAAiB,CAACC,GAAD,EAAMxB,GAAN,kBAChB;UAAA,wBACE;YAAG,SAAS,EAAE,iBAAd;YAAA,UAAkC7B,UAAU,CAAC6B,GAAG,GAAC,CAAL;UAA5C;YAAA;YAAA;YAAA;UAAA,QADF,eAEE;YAAG,SAAS,EAAE3B,aAAa,CAAC2B,GAAD,CAAb,KAAuB,CAAvB,IAA6BA,GAAG,KAAK,CAArC,GAAyC,kBAAzC,GAA8D,WAA5E;YAAA,UAA0FwB;UAA1F;YAAA;YAAA;YAAA;UAAA,QAFF;QAAA;UAAA;UAAA;UAAA;QAAA,QADD;MADH;QAAA;QAAA;QAAA;MAAA,QAHF,eAYE;QAAK,SAAS,EAAC,WAAf;QAAA,UAEG9D,QAAQ,CAAC6D,GAAT,CAAa,CAACC,GAAD,EAAMxB,GAAN,kBACV;UAAG,SAAS,EAAC,UAAb;UAAA,UAAyB/B,OAAO,GAAG+B,GAAV,GAAgBwB,GAAhB,GAAsB;QAA/C;UAAA;UAAA;UAAA;QAAA,QADH;MAFH;QAAA;QAAA;QAAA;MAAA,QAZF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAqBE;MAAA,wBACE;QAAA,UAAK7D;MAAL;QAAA;QAAA;QAAA;MAAA,QADF,eAEE;QAAA,qBAEG,GAFH,EAGGI,cAHH,OAKGN,KALH;MAAA;QAAA;QAAA;QAAA;MAAA,QAFF,eASE;QAAK,SAAS,EAAC,SAAf;QAAA,UACGF,OAAO,CAACgE,GAAR,CAAY,CAACxB,MAAD,EAASC,GAAT,kBACX;UAAI,SAAS,EAAEnC,UAAU,GAAGmC,GAAb,GAAmB,MAAnB,GAA4B,EAA3C;UAAA,UACI,GAAEA,GAAG,KAAK,CAAR,GAAY,EAAZ,GAAiB,MAAO,GAAED,MAAO;QADvC;UAAA;UAAA;UAAA;QAAA,QADD;MADH;QAAA;QAAA;QAAA;MAAA,QATF,EAgBIrB,QAAQ,gBAAG,QAAC,SAAD;QAAW,IAAI,EAAEJ,IAAjB;QAAuB,KAAK,EAAEL;MAA9B;QAAA;QAAA;QAAA;MAAA,QAAH,GAA8C,IAhB1D,eAiBE;QAAK,SAAS,EAAC,YAAf;QAAA,UACGT,IAAI,CAAC+D,GAAL,CAAU7B,GAAD,iBACR;UAAQ,SAAS,EAAC,WAAlB;UAA8B,IAAI,EAAC,QAAnC;UAA4C,OAAO,EAAE,MAAMD,cAAc,CAACC,GAAD,CAAzE;UAAA,UAAiFA;QAAjF;UAAA;UAAA;UAAA;QAAA,QADD;MADH;QAAA;QAAA;QAAA;MAAA,QAjBF,eAuBE;QAAK,SAAS,EAAC,YAAf;QAAA,wBACE;UAAQ,IAAI,EAAC,QAAb;UAAsB,OAAO,EAAE,MAAMoB,UAAU,EAA/C;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,eAEE;UAAQ,IAAI,EAAC,QAAb;UAAsB,OAAO,EAAE,MAAMI,KAAK,EAA1C;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAFF,eAGE;UAAQ,IAAI,EAAC,QAAb;UAAsB,OAAO,EAAE,MAAME,OAAO,EAA5C;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAHF;MAAA;QAAA;QAAA;QAAA;MAAA,QAvBF;IAAA;MAAA;MAAA;MAAA;IAAA,QArBF;EAAA;IAAA;IAAA;IAAA;EAAA,QAFF;AAsDD,CApPD;;GAAM/D,K;;KAAAA,K;AAqPN,eAAeA,KAAf"},"metadata":{},"sourceType":"module"}